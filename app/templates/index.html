{% extends "layout.html" %}

{% block title %}Dashboard - Image Processor{% endblock %}

{% block content %}
<div class="container">
  <div class="card">
    <h2>Upload Image</h2>
    <form onsubmit="uploadFile(event)">
      <input id="file" type="file" required>
      <button type="submit">Upload</button>
    </form>
  </div>

  <hr class="divider">

  <div class="card">
    <h2>Process Image</h2>
    <label for="process-file">Select File</label>
    <select id="process-file"></select>
    <button onclick="processFile()">Process</button>
  </div>

  <hr class="divider">

  <div class="card">
    <h2>Stress Test (Admin Only)</h2>

    <label for="stress-file">Select File</label>
    <select id="stress-file"></select>

    <label for="duration">Duration (seconds)</label>
    <input id="duration" type="number" value="10" min="1">

    <button onclick="stressTest()">Run Stress Test</button>
  </div>

  <hr class="divider">

  <div class="card">
    <h2>Results</h2>
    <button onclick="viewResults()">View Metadata</button>
    <div id="results-container">
      <div id="results"></div>
      <div id="pagination" class="pagination"></div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", populateFileDropdown);
</script>
{% endblock %}